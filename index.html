<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style/style.css">
    <link rel="stylesheet" href="style/pc.css" media="screen and (min-width: 768px)">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <header>
        <div class="container-video-back-ground">
            <video class="video-back-ground" src="img/fundoHeader.mp4" autoplay loop muted playsinline></video>
        </div>
        <div class="container-titulo-header">
            <div class="conteudo-titulo-header">
                <h1 class="titulo-header"> SOLUÇÕES DIGITAIS SOB MEDIDA PARA O SEU <span class="texto-destaque">NEGÓCIO CRESCER ONLINE</span></h1>
                <p class="font-questrial">Transformo ideias em sites rápidos, modernos e sistemas eficientes, focados em resultado, conversão e experiência do usuário.</p>
                <div class="botoes-header">
                    <a href="#servicos"><button class="botoes">CONHEÇA OS SERVIÇOS</button></a>
                    <a target="_blank" href="https://api.whatsapp.com/send?phone=5511975656434&text=Olá, gostaria de saber mais sobre seus serviços"><button class="botoes">CONTATO</button></a>
                    
                </div>
            </div>
        </div>
    </header>
    <section class="sobre-mim">
            <div class="texto-sobre-mim">
                <h1 class="titulo-sobre-mim font-horizon">SOBRE MIM</h1>
                <p class="p-sobre-mim">Sou Vitor Martins, <span class="texto-destaque">programador especializado</span> em criar soluções
                    web que realmente funcionam.
                </p>
                <p class="p-sobre-mim">
                    Atendo desde empreendedores e pequenos negócios até projetos mais robustos, sempre com foco em performance, clareza eescalabilidade.
                </p>
                <p class="p-sobre-mim">
                    Se você <span class="texto-destaque">precisa marcar presença online</span>, vender mais ou
                    automatizar processos, eu posso te ajudar.
                </p>
                <a target="_blank" href="https://api.whatsapp.com/send?phone=5511975656434&text=Olá, gostaria de saber mais sobre seus serviços"><button class="botoes" id="btn-fale-comigo">FALE COMIGO</button></a>
            </div>
    </section>
    <section class="meus-servicos" id="servicos">
        <h1 class="font-horizon text-black" >Meus serviços<span style="color: #55E8A8;">.</span></h1>
        <p class="font-questrial">Soluções pensadas para gerar resultados reais para o seu negócio</p>
        <div class="container-card-servicos fade-in">
            <div class="card-servicos">
                <h3 class="titulo-cards-servico"> <img class="img-card-servico" src="img/iconeSite.svg" alt=""> Sites Institucionais</h3>
                <p class="p-cards-servico">Sites profissionais para apresentar sua empresa, serviços e autoridade no mercado.
                    <br>Perfeito para quem quer credibilidade, presença digital e confiança.
                </p>
            </div>
            <div class="card-servicos">
                <h3 class="titulo-cards-servico"> <img class="img-card-servico" src="img/iconeEcommerce.svg" alt=""> E-commerce</h3>
                <p class="p-cards-servico">Lojas virtuais completas, seguras e fáceis de gerenciar. <br>
                    Do layout à integração com pagamentos, tudo pronto para você vender 24h por dia.
                </p>
            </div>
        </div>
        <div class="container-card-servicos fade-in">
            <div class="card-servicos">
                <h3 class="titulo-cards-servico"> <img class="img-card-servico" src="img/iconeLandingPage.svg" alt=""> E-commerce</h3>
                <p class="p-cards-servico">
                    Páginas estratégicas focadas em conversão, ideais para vendas, lançamentos, captação de leads e anúncios. <br>
                    Design moderno, carregamento rápido e estrutura pensada para gerar resultados.
                </p>
            </div>
            <div class="card-servicos">
                <h3 class="titulo-cards-servico"> 
                    <img class="img-card-servico" src="img/iconeSistemas.svg" alt="">Sistemas sob medida
                </h3>
                    <ul class="lista-card-sistemas" >
                        <li>Sistemas financeiros e de controle</li>
                        <li>Dashboards e relatórios</li>
                        <li>Sistemas administrativos</li>
                        <li>Integrações com APIs</li>
                        <li>Automatizações internas</li>
                    </ul>
                <p class="p-cards-servico" style="margin: 0px;">Tudo desenvolvido conforme a real necessidade da sua empresa, sem soluções genéricas.
                </p>
            </div>
        </div>
    </section>
    <section class="projetos">
        <h1 class="font-horizon text-black">Meus projetos<span style="color: #55E8A8;">.</span></h1>
        <p class="font-questrial">
            Ideias transformadas em soluções digitais funcionais, modernas e escaláveis.
        </p>
    <div class="carousel-container">
        <button class="carousel-btn prev">‹</button>
        <div class="carousel-viewport">
            <div class="carousel-track">
                <img src="img/projetos-farmatech.svg" data-projeto="projeto1" class="carousel-img">
            </div>
        </div>
        <button class="carousel-btn next">›</button>
    </div>
    </section>

    <div class="modal-overlay" id="modal">
        
        <div class="modal-content">
            <button class="modal-close">&times;</button>
            <div class="modal-header" id="modal-media">
            </div>
            <div class="modal-body">
                <h2 id="modal-titulo"></h2>
                <p id="modal-descricao" class="texto-modal"></p>
                <ul id="modal-lista" class="texto-modal"></ul>
            </div>
        </div>
    </div>
    <footer></footer>
</body>
<script>

    let carrosselAtivo = true;

    window.addEventListener("scroll", () => {
    const scroll = window.scrollY;
    const box = document.querySelector(".sobre-mim");

    box.style.transform = `translateY(${-scroll * 0.3}px)`;
});

const fade = document.querySelectorAll(".fade-in");

const obeservador = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add("show");
    }
  });
}, {
  threshold: 0.2
});

fade.forEach(el => obeservador.observe(el));




function criarCarrossel(containerSelector) {
    const container = document.querySelector(containerSelector);
    const track = container.querySelector(".carousel-track");
    const items = track.children;

    const btnPrev = container.querySelector(".prev");
    const btnNext = container.querySelector(".next");

    let index = 0;
    const itemWidth = items[0].offsetWidth; // largura + gap

    function atualizar() {
        track.style.transform = `translateX(-${index * itemWidth}px)`;
    }

    btnNext.addEventListener("click", () => {
        if (index < items.length - 1) {
            index++;
            atualizar();
        }
    });

    btnPrev.addEventListener("click", () => {
        if (index > 0) {
            index--;
            atualizar();
        }
    });


let startX = 0;
let endX = 0;
let currentTranslate = 0;
let prevTranslate = 0;
let isDragging = false;

track.addEventListener("touchstart", e => {
    pararAutoplay();
    startX = e.touches[0].clientX;
    endX = startX;

    isDragging = true;
    track.style.transition = "none";

    const viewport = container.querySelector(".carousel-viewport");
    const viewportWidth = viewport.offsetWidth;
    const offset = (viewportWidth / 2) - (itemWidth / 2);

    prevTranslate = offset - index * itemWidth;
    
});

track.addEventListener("touchmove", e => {
    if (!isDragging) return;

    endX = e.touches[0].clientX;
    const diff = endX - startX;

    currentTranslate = prevTranslate + diff;
    track.style.transform = `translateX(${currentTranslate}px)`;
    pararAutoplay();
});

track.addEventListener("touchend", () => {
    isDragging = false;
    track.style.transition = "transform 1s ease";

    const movedBy = endX - startX;

    if (Math.abs(movedBy) < 20) {
        atualizar(); // volta pro lugar correto
        return;
    }

    if (movedBy < -50 && index < items.length - 1) {
        index++;
    } else if (movedBy > 50 && index > 0) {
        index--;
    }

    atualizar();
    setTimeout(() => {
        iniciarAutoplay();
    }, 5000);

    
});

    let autoplayInterval = null;
    const tempo = 1500;

    function iniciarAutoplay() {
        if (carrosselAtivo === false) return;

        clearInterval(autoplayInterval);

        autoplayInterval = setInterval(() => {
            if (index < items.length - 1) {
                index++;
            } else {
                index = 0;
            }
            atualizar();
        }, tempo);  
    }

    function pararAutoplay() {
        clearInterval(autoplayInterval);
    }

    container.addEventListener("mouseenter", pararAutoplay);
    container.addEventListener("mouseleave", iniciarAutoplay);

    
    atualizar();
    iniciarAutoplay();

    return {
    pause() {
        carrosselAtivo = false;
        pararAutoplay();
        isDragging = false;
    },
    resume() {
        carrosselAtivo = true;
        iniciarAutoplay();
    }
};
}

const carrossel = criarCarrossel(".carousel-container");


const projetos = {
    projeto1: {
        titulo: "FarmaTech",
        descricao: "Plataforma SaaS completa para gestão de drogarias, centralizando produtos, fornecedores, estabelecimentos e recepção de mercadorias tudo em um só lugar",
        media: {
            tipo: "img",
            mobile: "img/projetos-farmatech.svg",
            desktop: "img/projetos-farmatech.svg",
            srcVideo: ""
        },
        lista: [
            "Design responsivo",
            "Sistema escalável",
            "Fácil manutenção",
            "Alta performance"
        ]
    }
};

const modal = document.getElementById("modal");
const titulo = document.getElementById("modal-titulo");
const descricao = document.getElementById("modal-descricao");
const lista = document.getElementById("modal-lista");

document.querySelectorAll(".carousel-img").forEach(img => {
    img.addEventListener("click", () => {
        const key = img.dataset.projeto;
        const projeto = projetos[key];

        titulo.textContent = projeto.titulo;
        descricao.textContent = projeto.descricao;


        lista.innerHTML = "";
        projeto.lista.forEach(item => {
            const li = document.createElement("li");
            li.textContent = item;
            lista.appendChild(li);
        });

        renderMedia(projeto.media);


        modal.classList.add("active");
        document.body.classList.add("modal-open");
        carrossel.pause();
        
    });
});

document.querySelector(".modal-close").addEventListener("click", () => {
    modal.classList.remove("active");
    document.body.classList.remove("modal-open");
    carrossel.resume();
    
});

modal.addEventListener("click", e => {
    if (e.target === modal) {
        modal.classList.remove("active");
        document.body.classList.remove("modal-open");
        carrossel.resume();
    }
});



function renderMedia(media) {
    const modalMedia = document.getElementById("modal-media");
    modalMedia.innerHTML = "";

    if (media.tipo === "img") {
        const picture = document.createElement("picture");

        const sourceDesktop = document.createElement("source");
        sourceDesktop.media = "(min-width: 992px)";
        sourceDesktop.srcset = media.desktop;

        const img = document.createElement("img");
        img.src = media.mobile;
        img.alt = "Imagem do projeto";

        picture.appendChild(sourceDesktop);
        picture.appendChild(img);

        modalMedia.appendChild(picture);
    }

    if (media.tipo === "video") {
        const video = document.createElement("video");
        video.src = media.srcVideo;
        video.controls = true;
        video.autoplay = true;
        video.muted = true;
        video.loop = true;
        video.id = "modal-video";
        modalMedia.appendChild(video);
    }
}


document.querySelectorAll(".botoes").forEach(botao => {
  botao.addEventListener("mousemove", e => {
    const rect = botao.getBoundingClientRect();
    botao.style.setProperty("--x", `${e.clientX - rect.left}px`);
    botao.style.setProperty("--y", `${e.clientY - rect.top}px`);
  });
});

const elements = document.querySelectorAll('.container-card-servicos');

const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('show');
    }
  });
}, {
  threshold: 0.2
});

elements.forEach(el => observer.observe(el));


</script>
</html>